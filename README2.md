# <font color="Seablue">cat_app</font>

***TypeScript／Next.jsで猫画像アプリを作る学習***

***参考サイト***

https://www.youtube.com/watch?v=MZclBqhCB6A

https://qiita.com/kenRp01/items/e4a5b08d7968aba855e1

https://www.commte.co.jp/learn-nextjs/next-head

https://commte.net/nextjs-google-font

https://thecatapi.com/


- TypeScriptをメイン言語、フレームワークをNext.jsとして、アプリケーションを作っていきます。
- 任意のディレクトリに移動して、
- Next.jsの導入コマンドを叩いていきます。
- 今回はTypeScriptも一緒にインストールするオプションをつけてコマンドを実行します。
- アプリ名は参考動画と同じにします。`cat_app`
- 今回はTypeScript以外のインストールで質問された項目は全てNoにしました。
- TailwindCSSや、srcディレクトリおよびApp routeも採用していません。
- 2022年9月の動画なので、1年以上経過していて若干古いです。
- が、まずはTypeScriptをメインに開発していく過程を学ぶのが主目的であるため、
- これで進めようと思います。
- また、今回は`npx`コマンドでプロジェクトを作成しました。
- ローカルのサーバーを確認するには、コマンド`npm rnn dev`で起動します。

<br>

## <font color="Seablue">開発環境</font>


- `Next.js 14.0.4`
- `TypeScript`
- `Vercel`



<br>


## <font color="Seablue">開発ログ</font>

```terminal
$ cd ~/workspace/create
$ npx create-next-app@latest --typescript
$ npm run dev
$ git remote add origin git@github.com:******/cat_app.git
$ git branch -M main
$ git push -u origin main
$ git checkout -b development
$ git add .
$ git commit -m "【Add】ファイルシステムルーティングを確認"
$ git push
$ git push --set-upstream origin development
$ git log
$ プルリクエスト
$ リモートでマージ
$ git checkout main
$ git pull origin main
$ git checkout development
$ Vercelへデプロイ
$ デプロイ先本番環境のサーバーからWebページを確認
```

<br>

### ***<font color="orange">`index.tsx`のコードを紐解く</font>***

```tsx
// ~/pages/index.tsx
// 全部は調べ切らなくて良いだろう。ひとまず、コード序盤の内容を調べました。
// Next.js アプリケーション内の React コンポーネントにおいて、HTML の <head> 要素を操作するために使用される特別なコンポーネント
import Head from 'next/head'
// Next.js アプリケーション内の React コンポーネントにおいて、HTML の <image> 要素を操作するために使用される特別なコンポーネント
import Image from 'next/image'
// Next.js アプリケーション内の React コンポーネントにおいて、googleフォントの「Inter」を適用するためのコンポーネント
import { Inter } from 'next/font/google'
// Next.js アプリケーション内の React コンポーネントにおいて、CSS Modulesを導入するための記述
import styles from '@/styles/Home.module.css'
// 定数interに対してInterフォントのサブセットで`latin`を指定している。Googleフォントに関する記述だと思われる。
const inter = Inter({ subsets: ['latin'] })

```

- ***オブジェクトのサブセットを得る***
`オブジェクトのサブセットを得る方法です。サブセットとは、あるオブジェクトのいち部分を切り取ったもので、ここで紹介する方法は、プロパティ名を指定してオブジェクトの一部分を切り出すものです。たとえば、次のような数多くのプロパティを持つオブジェクトがあるとき、ここから数個のプロパティだけを持つオブジェクトを作る方法です。`

https://typescriptbook.jp/tips/get-a-subset-of-an-object


<br>

- ***JavaScriptとTypeScriptの大きな違いは`型が付いていない・付いている`である。***

```tsx
// これは動画で紹介されている古いバージョンのNext.jsホーム画面のtsxファイルのソースコード

import type { NextPage } from 'next'
import Head from 'next/head' import Image from 'next/image'
import styles from '../styles/Home.module.css'

const Home: NextPage = () => {
    return (
    <div className={styles.container}>
        <Head>
            <title>Create Next App</title> <meta name="description" content="Generated by create next app" /> <link rel="icon" href="/favicon.ico" />
        </Head>
    <main className={styles.main}>
        <h1 className={styles.title}>
            Welcome to <a href="https://nextjs.org">Next.js!</a>
        </h1>
    <p className={styles.description}>
        Get started by editing{''} <code className={styles.code)>pages/index.tsx</code>
    </p>
    
// ...以下略
```

- 上記のコード例で言うと、、、
- `const Home:`の`Home`は`Home`という名前をつけた関数コンポーネントである。
- `NextPage`は型である。
- 上の行の`import type { NextPage }`によって、NextPageという型が挿入されている。
- 関数コンポーネント`Home`は、`Next.js`公式が用意した`NextPage`で定義してますよ。ということを明確に示すための記述である。
- Next.jsとTypeScriptを用いて開発する際は、概ね、`NextPage`という型を指定してあげることになる。
- ただし、これはおそらくバージョン12以前のindexページの実装なので、バージョン14の2024/01/07時点では、また、少し違った型が定義されているのかなぁと思われる。
- まぁ、とりあえずは、こんなものがあるんだなぁ、くらいの感覚で認識しておく程度で良いでしょう。とのこと。


<br>
<hr>


### ***<font color="orange">`index.tsx`に実装開始</font>***

***<font color="Red">動画05分20秒付近から</font>***

- 今回は`index.tsx`のページのコードの大部分を削除してしまって、ここにアプリケーション機能を実装していきます。
- ここまで削除してしまいます。

```tsx
// ~/pages/index.tsx

import Head from 'next/head'
import Image from 'next/image'
import { Inter } from 'next/font/google'
import styles from '@/styles/Home.module.css'

const inter = Inter({ subsets: ['latin'] })

export default function Home() {
  return (
    <>
    </>
  )
}
```

- 上記まで不要なコードを削ぎ落としたら、
- 最低限の見た目を作るための雛形を作っていきます。
- `export default function Home() {}`配下にCSSを当てていきます。


```tsx
export default function Home() {
  return (
    <div className={styles.container}>
      <h1>猫画像アプリ</h1>
    </div>
  );
};
```
- ここまでの実装で、`localhost:3000`で確認するとこんな感じ。

<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3486945/73186494-1ed3-bb67-7867-23f9376a6983.jpeg" alt="代替テキスト" width=50% height=50%>

- どんどん実装していきます。
- ここまで実装して、再度ブラウザを確認します。

```tsx
export default function Home() {
  return (
    <div className={styles.container}>
      <h1>猫画像アプリ</h1>
      <img src="" alt="" />
      <button>今日の猫さん</button>
    </div>
  );
};
```

<img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3486945/0dac6f4e-dabd-860f-c743-a33eaf72ae03.jpeg" alt="代替テキスト" width=50% height=50%>

- imgタグには、猫画像を取得するAPIで取得した画像を載せるようにしていきますが、
- まだ実装段階ではないので、一旦タグだけ設置しておいています。
- また、`styles.container`のプロパティ名？は、まだ`Home.module.css`には実装されていないので、スタイルは当たっていない状態。
- 後程、`Home.module.css`にスタイルのコードを記述する必要がありあそうです。


### ***<font color="orange">`猫画像`を取得するAPIを実装</font>***

***<font color="Red">動画06分05秒付近から</font>***

- 今回使用するAPIは`the cat api`

https://thecatapi.com/








<br><br><br><br><br><br><br>


## <font color="Seablue">よく使うタグ</font>

`## <font color="seablue">シーブルー</font>`

`#### <font color="salmon">サーモンピンク</font>`

`<img src="" alt="代替テキスト" width=50% height=50%>`

`<a href="" target="_blank">テキスト</a>`

`***<font color="Red">動画05分20秒付近から</font>***`

<br><br><br><br>
